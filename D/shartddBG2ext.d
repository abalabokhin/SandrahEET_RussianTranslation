EXTEND_TOP SHARTEDD 0 #0
IF ~GlobalGT("SanSharInt","GLOBAL",30)~THEN REPLY @0GOTO CV2
IF ~GlobalGT("SanSharInt","GLOBAL",20) GlobalLT("SanSharInt","GLOBAL",30)~THEN REPLY @1GOTO CV1
END

APPEND SHARTEDD
IF~~THEN BEGIN CV1
SAY@2
IF~~THEN REPLY@3GOTO 5
END

IF~~THEN BEGIN CV2
SAY@4
IF~~THEN REPLY@5GOTO 5
END
END

APPEND SHARWINS
IF WEIGHT #-9~InParty("CVSandr") GlobalGT("SanSharInt","GLOBAL",20)~THEN BEGIN CV3
SAY @6
IF ~~THEN REPLY @7EXTERN SHARWINS CV4
END
END

CHAIN
IF~~THEN SHARWINS CV4
@8
DO ~AddXPObject(Myself,75000) AddexperienceParty(60000) SetGlobal("sharplot","GLOBAL",8)~
== BSANDR @9
== SHARWINS @10
== BSANDR @11
END
++ @12+ CV5

CHAIN
IF ~~THEN SHARWINS CV5
@13
= @14
== BSANDR @15
== SHARWINS @16
DO~ActionOverride("Sharteel",LeaveParty()) ReallyForceSpell(Myself,DRYAD_TELEPORT)~EXIT

ADD_STATE_TRIGGER ShartP 5
~GlobalLT("SanSharInt","GLOBAL",20)~